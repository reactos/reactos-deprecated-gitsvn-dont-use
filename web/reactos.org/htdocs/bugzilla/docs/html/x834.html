<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML
><HEAD
><TITLE
>Multiple Bugzilla databases with a single installation</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="The Bugzilla Guide - 3.0.2  Release"
HREF="index.html"><LINK
REL="UP"
TITLE="Installing Bugzilla"
HREF="installing-bugzilla.html"><LINK
REL="PREVIOUS"
TITLE="Optional Additional Configuration"
HREF="extraconfig.html"><LINK
REL="NEXT"
TITLE="OS-Specific Installation Notes"
HREF="os-specific.html"></HEAD
><BODY
CLASS="section"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>The Bugzilla Guide - 3.0.2  Release</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="extraconfig.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 2. Installing Bugzilla</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="os-specific.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="AEN834"
>2.4. Multiple Bugzilla databases with a single installation</A
></H1
><P
>The previous instructions referred to a standard installation, with
      one unique Bugzilla database. However, you may want to host several
      distinct installations, without having several copies of the code. This is
      possible by using the PROJECT environment variable. When accessed,
      Bugzilla checks for the existence of this variable, and if present, uses
      its value to check for an alternative configuration file named
      <TT
CLASS="filename"
>localconfig.&#60;PROJECT&#62;</TT
> in the same location as
      the default one (<TT
CLASS="filename"
>localconfig</TT
>). It also checks for
      customized templates in a directory named
      <TT
CLASS="filename"
>&#60;PROJECT&#62;</TT
> in the same location as the
      default one (<TT
CLASS="filename"
>template/&#60;langcode&#62;</TT
>). By default
      this is <TT
CLASS="filename"
>template/en/default</TT
> so PROJECT's templates
      would be located at <TT
CLASS="filename"
>template/en/PROJECT</TT
>.</P
><P
>To set up an alternate installation, just export PROJECT=foo before
      running <B
CLASS="command"
>checksetup.pl</B
> for the first time. It will
      result in a file called <TT
CLASS="filename"
>localconfig.foo</TT
> instead of
      <TT
CLASS="filename"
>localconfig</TT
>. Edit this file as described above, with
      reference to a new database, and re-run <B
CLASS="command"
>checksetup.pl</B
>
      to populate it. That's all.</P
><P
>Now you have to configure the web server to pass this environment
      variable when accessed via an alternate URL, such as virtual host for
      instance. The following is an example of how you could do it in Apache,
      other Webservers may differ.
<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="programlisting"
>&#13;&#60;VirtualHost 212.85.153.228:80&#62;
    ServerName foo.bar.baz
    SetEnv PROJECT foo
    Alias /bugzilla /var/www/bugzilla
&#60;/VirtualHost&#62;
</PRE
></FONT
></TD
></TR
></TABLE
>
    </P
><P
>Don't forget to also export this variable before accessing Bugzilla
       by other means, such as cron tasks for instance.</P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="extraconfig.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="os-specific.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Optional Additional Configuration</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="installing-bugzilla.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>OS-Specific Installation Notes</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>