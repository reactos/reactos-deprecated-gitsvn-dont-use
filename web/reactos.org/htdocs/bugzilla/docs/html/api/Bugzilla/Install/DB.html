<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
  <head>
    <title>
Bugzilla::Install::DB</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" title="style" type="text/css" href="../../style.css" media="all" >

</head>
  <body id="pod">
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>
<h1>Bugzilla::Install::DB</h1>
<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SYNOPSIS'>SYNOPSIS</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#SUBROUTINES'>SUBROUTINES</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Bugzilla::Install::DB - Fix up the database during installation.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SYNOPSIS"
>SYNOPSIS</a></h1>

<pre  class="code"> use Bugzilla::Install::DB qw(indicate_progress);
 Bugzilla::Install::DB::update_table_definitions();

 indicate_progress({ total =&#62; $total, current =&#62; $count, every =&#62; 10 });</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This module is used primarily by <a href="../../checksetup.pl.html" class="podlinkpod"
>checksetup.pl</a> to modify the database during upgrades.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SUBROUTINES"
>SUBROUTINES</a></h1>

<dl>
<dt><a name="update_table_definitions()"
><code  class="code">update_table_definitions()</code></a></dt>

<dd>
<p>Description: This is the primary code that updates table definitions during upgrades. If you modify the schema in some way, you should add code to the end of this function to make sure that your modifications happen over all installations.</p>

<p>Params: none</p>

<p>Returns: nothing</p>

<dt><a name="update_fielddefs_definition()"
><code  class="code">update_fielddefs_definition()</code></a></dt>

<dd>
<p>Description: <a href="../../checksetup.pl.html" class="podlinkpod"
>checksetup.pl</a> depends on the fielddefs table having its schema adjusted before the rest of the tables. So these schema updates happen in a separate function from <a href="#update_table_definitions()" class="podlinkpod"
>&#34;update_table_definitions()&#34;</a>.</p>

<p>Params: none</p>

<p>Returns: nothing</p>

<dt><a name="indicate_progress({_total_=_$total,_current_=&#62;_$count,_every_=&#62;_1_})&#62;"
><code  class="code">indicate_progress({ total =</code> $total, current =&#62; $count, every =&#62; 1 })&#62;</a></dt>

<dd>
<p>Description: This prints out lines of dots as a long update is going on, to let the user know where we are and that we&#39;re not frozen. A new line of dots will start every 60 dots.</p>

<p>Params: <code  class="code">total</code> - The total number of items we&#39;re processing. <code  class="code">current</code> - The number of the current item we&#39;re processing. <code  class="code">every</code> - How often the function should print out a dot. For example, if this is 10, the function will print out a dot every ten items.</p>

<p>Returns: nothing</p>
</dd>
</dl>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
