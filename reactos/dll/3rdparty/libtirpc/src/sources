TARGETTYPE=DYNLINK
TARGETNAME=libtirpc 
SOURCES=\
	asprintf.c \
	auth_none.c \
	auth_time.c \
	auth_unix.c \
	auth_sspi.c \
	authsspi_prot.c \
	authunix_prot.c \
	bindresvport.c \
	clnt_bcast.c \
	clnt_dg.c \
	clnt_generic.c \
	clnt_perror.c \
	clnt_raw.c \
	clnt_simple.c \
	clnt_vc.c \
	des_soft.c \
	epoll_sub.c \
	getnetconfig.c \
	getnetpath.c \
	getpeereid.c \
	getpublickey.c \
	getrpcent.c \
	getrpcport.c \
	gettimeofday.c \
	key_call.c \
	key_prot_xdr.c \
	mt_misc.c \
	netname.c \
	netnamer.c \
	pmap_clnt.c \
	pmap_getmaps.c \
	pmap_getport.c \
	pmap_prot.c \
	pmap_prot2.c \
	pmap_rmt.c \
	rpc_callmsg.c \
	rpc_commondata.c \
	rpc_dtablesize.c \
	rpc_generic.c \
	rpc_prot.c \
	rpc_soc.c \
	rpcb_clnt.c \
	rpcb_prot.c \
	rpcb_st_xdr.c \
	rpcdname.c \
	rtime.c \
	svc.c \
	svc_auth.c \
	svc_auth_none.c \
	svc_auth_unix.c \
	svc_dg.c \
	svc_generic.c \
	svc_raw.c \
	svc_run.c \
	svc_simple.c \
	svc_vc.c \
	winstubs.c \
	wintirpc.c \
	xdr.c \
	xdr_array.c \
	xdr_float.c \
	xdr_mem.c \
	xdr_rec.c \
	xdr_reference.c \
	xdr_sizeof.c \
	xdr_stdio.c

#	crypt_client.c \
#	des_crypt.c \
#	svc_auth_sspi.c \
#	auth_des.c \
#	authdes_prot.c \
#	authgss_prot.c \

UMTYPE=console
#UNICODE=1
DLLBASE=0x1010000
#USE_NTDLL=1
#USE_MSVCRT=1
USE_LIBCMT=1
NET_C_DEFINES=-DUNICODE -DINET6 -D_WIN32 -DPORTMAP

INCLUDES=..\sys; \
	..\tirpc; \
	$(SDK_INC_PATH);

TARGETLIBS=$(SDK_LIB_PATH)\user32.lib \
	$(SDK_LIB_PATH)\kernel32.lib \
	$(SDK_LIB_PATH)\ws2_32.lib \
	$(SDK_LIB_PATH)\Advapi32.lib


DLLDEF=..\libtirpc\libtirpc.def
#DLLENTRY=tirpc_main

!IF 0
/W3 is default level
bump to /Wall, but suppress warnings generated by system includes,
as well as the following warnings:
4100 - unused function call arguments (we have lots of stubs)
4127 - constant conditional (I like to use if(0) or if(1))
MSC_WARNING_LEVEL=/Wall /wd4668 /wd4619 /wd4820 /wd4255 /wd4100 /wd4127 /wd4711
!ENDIF
MSC_WARNING_LEVEL=/W3
